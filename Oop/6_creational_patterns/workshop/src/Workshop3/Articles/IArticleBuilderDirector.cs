// Интерфейс директора для управления процессом построения статьи
//
// Роль в проекте:
// Определяет контракт для объектов, которые могут управлять построителем статьи,
// передавая ему свою конфигурацию. Это реализация паттерна Director из классической
// Gang of Four книги по паттернам проектирования.
//
// Применяемый паттерн:
// Director (Директор) - объект, который знает правильную последовательность вызовов
// методов Builder для создания сложного объекта
//
// Как это работает:
// Объект, реализующий IArticleBuilderDirector (например, Article), знает свою структуру
// и может "обучить" построитель воссоздать эту структуру. Директор вызывает методы
// построителя в правильном порядке с правильными параметрами.
//
// Зачем нужен Director:
// 1. Инкапсуляция процесса построения
//    Клиентский код не должен знать точную последовательность вызовов методов Builder.
//    Директор берет эту ответственность на себя.
//
// 2. Переиспользование конфигураций
//    Можно использовать существующий объект как шаблон для создания нового,
//    возможно с модификациями.
//
// 3. Комбинация с паттерном Prototype
//    Director позволяет реализовать "управляемое клонирование" - создание копии
//    объекта через Builder, что дает больше контроля над процессом копирования.
//
// Пример использования из Program.cs:
//   IArticle article = CreateArticle(...); // создали статью
//   IArticleBuilder newBuilder = new ArticleBuilder();
//   newBuilder.AddParagraph(...); // добавили новый параграф
//   newBuilder = article.Direct(newBuilder); // статья добавила свое содержимое
//   IArticle newArticle = newBuilder.Build(); // получили новую статью
//
// В этом примере новая статья содержит и новый параграф, и все параграфы из оригинальной статьи.
//
// Связь с другими компонентами:
// - Реализуется классом Article
// - Входит в состав интерфейса IArticle
// - Работает с IArticleBuilder для управления процессом построения
namespace Workshop3.Articles;

public interface IArticleBuilderDirector
{
    // Управляет построителем, настраивая его согласно своей конфигурации
    //
    // Параметры:
    //   builder - построитель статьи, который нужно настроить
    //
    // Возвращает: настроенный построитель (обычно тот же объект после цепочки вызовов)
    //
    // Процесс:
    // Директор вызывает методы построителя (WithTitle, AddParagraph, WithAuthor) в правильной
    // последовательности, передавая свои данные. Построитель накапливает эти данные и будет
    // готов создать новую статью при вызове Build().
    //
    // Важная деталь:
    // Метод возвращает построитель, что позволяет продолжить настройку после вызова Direct().
    // Например, можно сначала вызвать Direct(), а затем добавить дополнительные параграфы
    // или изменить заголовок.
    //
    // Идемпотентность:
    // Множественный вызов Direct() на одном построителе может привести к дублированию данных
    // (например, параграфы добавятся дважды). Это нужно учитывать при использовании.
    IArticleBuilder Direct(IArticleBuilder builder);
}
