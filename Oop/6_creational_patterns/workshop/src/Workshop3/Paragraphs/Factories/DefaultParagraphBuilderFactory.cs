// Фабрика для создания построителей обычных параграфов
//
// Роль в проекте:
// Конкретная реализация фабрики, которая создает DefaultParagraphBuilder.
// Это часть паттерна Abstract Factory, позволяющая абстрагироваться от
// конкретных классов построителей.
//
// Применяемый паттерн:
// Abstract Factory (Абстрактная фабрика) - для создания семейств связанных объектов
//
// Зачем нужна фабрика для такого простого создания:
// На первый взгляд может показаться избыточным создавать фабрику для простого
// "new DefaultParagraphBuilder()". Однако это дает важные преимущества:
//
// 1. Абстракция от конкретных типов
//    Код, использующий фабрику, не знает о существовании DefaultParagraphBuilder.
//    Он работает только с интерфейсами IParagraphBuilderFactory и IParagraphTitleSelector.
//
// 2. Легкость замены реализации
//    В Program.cs можно переключиться с DefaultParagraphBuilderFactory на
//    StyledParagraphBuilderFactory, изменив всего одну строку, и все параграфы
//    станут стилизованными.
//
// 3. Централизованная логика создания
//    Если в будущем потребуется добавить логику при создании построителей
//    (например, логирование, кеширование, настройку параметров), это будет
//    сделано в одном месте.
//
// Модификатор доступа public:
// В отличие от построителей, фабрика публична, так как именно ее должен
// использовать внешний код для получения построителей.
//
// Связь с другими компонентами:
// - Реализует интерфейс IParagraphBuilderFactory
// - Создает экземпляры DefaultParagraphBuilder
// - Используется в Program.cs для создания обычных параграфов
using Workshop3.Paragraphs.Builders;

namespace Workshop3.Paragraphs.Factories;

public sealed class DefaultParagraphBuilderFactory : IParagraphBuilderFactory
{
    // Создает новый построитель для обычного параграфа
    //
    // Возвращает: новый экземпляр DefaultParagraphBuilder
    //
    // Expression-bodied member (=>) делает код более компактным для простых методов.
    // Каждый вызов CreateBuilder() возвращает новый независимый экземпляр,
    // что позволяет создавать несколько параграфов параллельно без конфликтов состояния.
    //
    // Паттерн Factory Method:
    // Это также можно рассматривать как реализацию паттерна Factory Method,
    // где метод CreateBuilder() - это фабричный метод, инкапсулирующий создание объекта.
    public IParagraphTitleSelector CreateBuilder() 
        => new DefaultParagraphBuilder();
}
