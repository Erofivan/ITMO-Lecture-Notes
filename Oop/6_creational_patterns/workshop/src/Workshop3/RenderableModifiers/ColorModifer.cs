// Модификатор для окрашивания текста в заданный цвет
//
// Роль в проекте:
// Конкретная реализация стратегии модификации текста, которая окрашивает текст в указанный цвет RGB.
// Использует библиотеку Crayon для применения цветных ANSI escape-последовательностей.
//
// Применяемый паттерн:
// Strategy (Стратегия) - это одна из стратегий модификации текста
//
// Особенность реализации:
// Использует primary constructor (новая возможность C# 12), что позволяет компактно объявить
// параметр конструктора и сразу сделать его доступным для всех методов класса.
//
// Связь с другими компонентами:
// - Реализует интерфейс IRenderableModifier
// - Используется в TextExtensions.Colored() для создания цветного текста
// - Используется в StyledParagraphBuilderFactory для создания параграфов с цветным стилем
// - Принимает System.Drawing.Color как параметр, что обеспечивает удобный API
using System.Drawing;

namespace Workshop3.RenderableModifiers;

public sealed class ColorModifer(Color color) : IRenderableModifier
{
    // Применяет цветное форматирование к переданному тексту
    //
    // Параметры:
    //   value - исходная строка текста
    //
    // Возвращает: строку с примененным цветом (через ANSI escape-коды RGB)
    //
    // Метод использует RGB-компоненты цвета (красный, зеленый, синий) для создания
    // точного цветного представления. Библиотека Crayon преобразует эти значения
    // в соответствующие ANSI escape-последовательности, которые современные терминалы
    // могут интерпретировать для отображения текста в нужном цвете.
    public string Apply(string value)
        => Crayon.Output.Rgb(color.R, color.G, color.B).Text(value);
}
