// Файл определяет интерфейс контекста для вычисления выражений.
// Контекст хранит значения переменных, необходимые для вычисления выражений.

namespace Workshop2.Expressions.Expressions;

// Интерфейс IExpressionEvaluationContext представляет контекст вычисления выражений.
// Контекст — это окружение, в котором происходит вычисление. Он содержит
// значения всех известных переменных.
//
// Паттерн: Context Object — объект, который инкапсулирует информацию о состоянии
// и контексте выполнения операции. В данном случае — значения переменных.
//
// Зачем нужен: при вычислении выражений нужно знать, чему равны переменные.
// Вместо того чтобы передавать словарь переменных напрямую, создаётся
// абстракция IExpressionEvaluationContext, что делает код более гибким
// и позволяет в будущем добавить дополнительную логику (например, логирование,
// кеширование переменных, вычисление переменных "на лету").
public interface IExpressionEvaluationContext
{
    // Разрешает переменную по имени, то есть находит её значение в контексте.
    // Параметры:
    //   variableName — имя переменной для поиска
    // Возвращает: результат разрешения (Found со значением или NotFound)
    //
    // Результат — это discriminated union (размеченное объединение),
    // которое явно показывает два возможных исхода: переменная найдена или нет.
    VariableResolutionResult ResolveVariable(string variableName);
}
